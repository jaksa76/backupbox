<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#4f46e5" />
  <meta name="description" content="A powerful PWA for background file processing and backups." />
  <link rel="manifest" href="/manifest.json" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/styles.css" />
  <title>BackupBox | Background File Recovery</title>
</head>

<body>
  <div class="container">
    <header>
      <div class="logo-wrapper">
        <img src="/icons/icon-192.svg" alt="logo" />
      </div>
      <h1>BackupBox</h1>
      <p class="description">Progressive file processing & synchronization</p>
    </header>

    <main>
      <section class="status-card" aria-live="polite">
        <span class="status-label">Current Status</span>
        <p id="status">Initializing system...</p>
        <div class="progress-container" id="progressWrapper">
          <div class="progress-bar" id="progressBar"></div>
        </div>
      </section>

      <div class="controls">
        <button id="pickFolder" class="btn btn-primary btn-full">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M12 4v16m8-8H4"></path>
          </svg>
          Add Source Folder
        </button>

        <button id="startWorker" class="btn btn-secondary" disabled>
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z">
            </path>
            <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          Start Backup
        </button>

        <button id="stopWorker" class="btn btn-danger" disabled>
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            <path d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H10a1 1 0 01-1-1v-4z"></path>
          </svg>
          Stop
        </button>
      </div>

      <div id="folderList" class="folder-list">
        <!-- Folders will be added here dynamically -->
      </div>

      <div class="stats-grid">
        <div class="stat-item">
          <span class="stat-value" id="fileCount">-</span>
          <span class="stat-label">Files Found</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" id="lastSync">Never</span>
          <span class="stat-label">Last Sync</span>
        </div>
      </div>

      <div class="tip">
        <strong>Pro Tip:</strong> Use the "Select Source Folder" button to pick a directory. Your selection will be
        remembered for the next session.
      </div>
    </main>
  </div>

  <footer class="footer">
    <div><span class="dot online"></span> SW Active</div>
    <div>v1.0.0</div>
  </footer>

  <script type="module" src="/src/app.js"></script>
</body>

</html>